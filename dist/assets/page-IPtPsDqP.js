import{M as d,L as x,f as p,c as u,a as g,j as e,g as h,h as f,T as j,m as b,F as t,B as w,i as y,n as N,k as v,p as k}from"./index-CbNkVbyA.js";import{u as F}from"./useMutation-DwAQVmwo.js";import{F as I}from"./Form-CqBfojSt.js";import{l as T}from"./libphonenumber-CMUTMTJY.js";import{C}from"./index-w51GdvMh.js";import{F as i}from"./index-nfIlcgR5.js";import{I as l}from"./index-VC5Afaew.js";import{C as L}from"./index-De1vea9t.js";import{T as M}from"./index-CC6DCI0n.js";import"./utils-km2FGkQ4.js";import"./row-CIqPCr0D.js";import"./QuestionCircleOutlined-CFn8tONO.js";const{Title:P}=M,{login:S}=v,{fetchProfileDataSuccess:A}=k;T.PhoneNumberUtil.getInstance();function U(){const r=p();u(),g(({LanguageSwitcher:s})=>s.language);const[m]=I.useForm(),o=F({mutationFn:s=>y.post("login",s),onSuccess:s=>{const{token:n,data:a}=s.data;a.isVerified=!0,a.isActivated=!0,a.isApproved=!0,r(S(n)),r(A(a))},onError:s=>{const{status:n,data:{message:a}}=s.response;N.error(a,{position:"top-center",duration:5e3})}}),c=s=>{o.mutate(s)};return e.jsxs("div",{className:"bg-texture-light dark:bg-texture-dark",children:[e.jsxs("div",{className:"box-border absolute inset-x-0 top-0 w-full flex items-center justify-between container mx-auto py-5 px-2",children:[e.jsxs("div",{className:"brightness-90 flex items-center text-[#3730a3] no-underline hover:no-underline font-bold text-2xl lg:text-4xl",children:[e.jsx(h,{to:"/",children:e.jsx("img",{className:"w-10 h-auto",src:"/logo-masrad.png",width:48,height:73,alt:"masrad-admin"})}),"          "]}),e.jsxs("ul",{className:"flex gap-3 items-center",children:[e.jsx("li",{className:"isoUser flex",children:e.jsx(f,{})}),e.jsx("li",{className:"isoUser",children:e.jsx(j,{})})]})]}),e.jsx("div",{className:"min-h-[100dvh] box-border w-full flex flex-col items-center justify-center px-3 sm:px-6 py-8 mx-auto lg:py-0",children:e.jsx(b.div,{initial:{y:-150,opacity:1},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:100},className:"w-full max-w-md",children:e.jsx(C,{className:" w-full  rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0",children:e.jsxs("div",{className:"space-y-4 sm:p-4",children:[e.jsx(P,{className:"!text-xl font-bold leading-tight tracking-tight   md:!text-2xl ",children:e.jsx(t,{id:"signin.signToYourAccount"})}),e.jsxs(i,{layout:"vertical",form:m,initialValues:{remember:!0},onFinish:c,autoComplete:"off",children:[e.jsx(i.Item,{label:e.jsx(t,{id:"email"}),name:"email",rules:[{required:!0,message:e.jsx(t,{id:"email"})},{type:"email",message:e.jsx(t,{id:"invalid-email"})}],children:e.jsx(l,{size:"large"})}),e.jsx(i.Item,{label:e.jsx(t,{id:"password"}),name:"password",rules:[{required:!0,message:e.jsx(t,{id:"password"})}],children:e.jsx(l.Password,{size:"large"})}),e.jsx("div",{className:"flex justify-between mb-5",children:e.jsx(i.Item,{className:"mb-0",name:"remember",valuePropName:"checked",children:e.jsx(L,{children:e.jsx(t,{id:"page.signInRememberMe"})})})}),e.jsx(i.Item,{children:e.jsx(w,{type:"primary",size:"large",className:"w-full",htmlType:"submit",loading:o.isPending,children:e.jsx(t,{id:"page.signInButton"})})})]})]})})})})]})}const J=d(U,[x]);export{J as default};
