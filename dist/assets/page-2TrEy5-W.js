import{u as v,a as p,b as I,c as P,r as l,i as f,j as e,F as t,B as g,n as $}from"./index-CbNkVbyA.js";import{config as s}from"./page-ESn0I62f.js";import{g as B}from"./cols-BOaOIlnr.js";import{S as O}from"./index-MxrXartz.js";import{R as k,C as w}from"./row-CIqPCr0D.js";import{D as i}from"./index-B6tpR2_d.js";import{P as C}from"./index-UsCyEadM.js";import{Q as E}from"./QuestionCircleOutlined-CFn8tONO.js";import{D as A}from"./DeleteOutlined-BtHf3aBj.js";import"./index-VC5Afaew.js";import"./utils-km2FGkQ4.js";import"./index-CC6DCI0n.js";import"./index-Bs3OOa-i.js";import"./index-CbNQXSC4.js";import"./index-De1vea9t.js";function Z(){var u;`${v().pathname.split("/").filter(a=>a).slice(0,2).join("/")}`;const D=p(({profile:a})=>a.data),{idToken:c}=p(a=>a.Auth),{locale:x}=p(({LanguageSwitcher:a})=>a.language),{id:r}=I(),j=P(),[_,d]=l.useState(!1),[b,m]=l.useState(!1),[n,S]=l.useState({}),y=()=>{d(!0),$.promise(f[s.delete.method](`${s.delete.url}/${r}`,{headers:{"X-Portal":"dashboard",Authorization:`Bearer ${c}`}}),{loading:x==="ar"?"جاري المعالجة ":"Pending",success:a=>{const{message:o}=a.data;return j(-1),d(!1),o||"Backend Error Occured"},error:a=>{var o,h;return d(!1),((h=(o=a.response)==null?void 0:o.data)==null?void 0:h.message)||"Backend Error Occured"}})};l.useEffect(()=>{r&&(m(!0),f[s.findOne.method](`${s.findOne.url}/${r}`,{headers:{"X-Portal":"dashboard",Authorization:`Bearer ${c}`}}).then(a=>{S(a.data.data),m(!1)}).catch(a=>{m(!1)}))},[r,c]);const N={1:{name_en:"Wet",name_ar:"مبتل"},2:{name_en:"Dry",name_ar:"جاف"}};return e.jsx(e.Fragment,{children:e.jsx(O,{spinning:b,children:e.jsx(k,{children:e.jsxs(w,{span:24,children:[e.jsxs(i,{bordered:!0,title:e.jsx(t,{id:"show"}),children:[e.jsx(i.Item,{span:3,label:e.jsx(t,{id:"name_en"}),children:n.name_en??e.jsx("div",{className:"text-[#ccc]",children:e.jsx(t,{id:"noData"})})}),e.jsx(i.Item,{span:3,label:e.jsx(t,{id:"name_ar"}),children:n.name_ar??e.jsx("div",{className:"text-[#ccc]",children:e.jsx(t,{id:"noData"})})}),e.jsx(i.Item,{span:3,label:e.jsx(t,{id:"type"}),children:n.type?(u=N[n.type])==null?void 0:u[x==="ar"?"name_ar":"name_en"]:e.jsx("div",{className:"text-[#ccc]",children:e.jsx(t,{id:"noData"})})}),e.jsx(i.Item,{span:3,label:e.jsx(t,{id:"created_at"}),children:n.created_at??e.jsx("div",{className:"text-[#ccc]",children:e.jsx(t,{id:"noData"})})})]}),e.jsxs("div",{className:"flex gap-4 flex-wrap mt-8",children:[e.jsx(g,{onClick:()=>j(-1),className:"w-[90px]",children:e.jsx(t,{id:"global.back"})}),r&&B(s.delete.url,s.delete.type,D)?e.jsx(C,{title:e.jsx(t,{id:"delete.deleteItem"}),description:e.jsx(t,{id:"delete.areYouSure"}),onConfirm:()=>y(),icon:e.jsx(E,{style:{color:"red"}}),children:e.jsx(g,{loading:_,icon:e.jsx(A,{className:"mx-1"}),type:"primary",danger:!0,children:e.jsx(t,{id:"delete"})})}):""]})]})})})})}export{Z as default};
