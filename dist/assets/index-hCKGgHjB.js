import{H as X,I as Y,J as ee,a0 as G,r as g,C as te,s as re,a1 as k}from"./index-CbNkVbyA.js";const ae=t=>{const{componentCls:e,sizePaddingEdgeHorizontal:n,colorSplit:a,lineWidth:r,textPaddingInline:i,orientationMargin:d,verticalMarginInline:s}=t;return{[e]:Object.assign(Object.assign({},ee(t)),{borderBlockStart:`${G(r)} solid ${a}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:s,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${G(r)} solid ${a}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${G(t.dividerHorizontalGutterMargin)} 0`},[`&-horizontal${e}-with-text`]:{display:"flex",alignItems:"center",margin:`${G(t.dividerHorizontalWithTextGutterMargin)} 0`,color:t.colorTextHeading,fontWeight:500,fontSize:t.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${a}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${G(r)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${e}-with-text-left`]:{"&::before":{width:`calc(${d} * 100%)`},"&::after":{width:`calc(100% - ${d} * 100%)`}},[`&-horizontal${e}-with-text-right`]:{"&::before":{width:`calc(100% - ${d} * 100%)`},"&::after":{width:`calc(${d} * 100%)`}},[`${e}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:i},"&-dashed":{background:"none",borderColor:a,borderStyle:"dashed",borderWidth:`${G(r)} 0 0`},[`&-horizontal${e}-with-text${e}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${e}-dashed`]:{borderInlineStartWidth:r,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${e}-with-text`]:{color:t.colorText,fontWeight:"normal",fontSize:t.fontSize},[`&-horizontal${e}-with-text-left${e}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${e}-inner-text`]:{paddingInlineStart:n}},[`&-horizontal${e}-with-text-right${e}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${e}-inner-text`]:{paddingInlineEnd:n}}})}},ne=t=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:t.marginXS}),ie=X("Divider",t=>{const e=Y(t,{dividerHorizontalWithTextGutterMargin:t.margin,dividerHorizontalGutterMargin:t.marginLG,sizePaddingEdgeHorizontal:0});return[ae(e)]},ne,{unitless:{orientationMargin:!0}});var oe=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(t);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(t,a[r])&&(n[a[r]]=t[a[r]]);return n};const le=t=>{const{getPrefixCls:e,direction:n,divider:a}=g.useContext(te),{prefixCls:r,type:i="horizontal",orientation:d="center",orientationMargin:s,className:o,rootClassName:u,children:l,dashed:h,plain:c,style:m}=t,w=oe(t,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","plain","style"]),p=e("divider",r),[b,$,v]=ie(p),M=d.length>0?`-${d}`:d,z=!!l,A=d==="left"&&s!=null,f=d==="right"&&s!=null,C=re(p,a==null?void 0:a.className,$,v,`${p}-${i}`,{[`${p}-with-text`]:z,[`${p}-with-text${M}`]:z,[`${p}-dashed`]:!!h,[`${p}-plain`]:!!c,[`${p}-rtl`]:n==="rtl",[`${p}-no-default-orientation-margin-left`]:A,[`${p}-no-default-orientation-margin-right`]:f},o,u),y=g.useMemo(()=>typeof s=="number"?s:/^\d+$/.test(s)?Number(s):s,[s]),D=Object.assign(Object.assign({},A&&{marginLeft:y}),f&&{marginRight:y});return b(g.createElement("div",Object.assign({className:C,style:Object.assign(Object.assign({},a==null?void 0:a.style),m)},w,{role:"separator"}),l&&i!=="vertical"&&g.createElement("span",{className:`${p}-inner-text`,style:D},l)))},ze=le;var F=[["Afghanistan","af","93"],["Albania","al","355"],["Algeria","dz","213"],["Andorra","ad","376"],["Angola","ao","244"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54","(..) ........",0],["Armenia","am","374",".. ......"],["Aruba","aw","297"],["Australia","au","61",{default:". .... ....","/^4/":"... ... ...","/^5(?!50)/":"... ... ...","/^1(3|8)00/":".... ... ...","/^13/":".. .. ..","/^180/":"... ...."},0,[]],["Austria","at","43"],["Azerbaijan","az","994","(..) ... .. .."],["Bahamas","bs","1242"],["Bahrain","bh","973"],["Bangladesh","bd","880"],["Barbados","bb","1246"],["Belarus","by","375","(..) ... .. .."],["Belgium","be","32","... .. .. .."],["Belize","bz","501"],["Benin","bj","229"],["Bhutan","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina","ba","387"],["Botswana","bw","267"],["Brazil","br","55","(..) ........."],["British Indian Ocean Territory","io","246"],["Brunei","bn","673"],["Bulgaria","bg","359"],["Burkina Faso","bf","226"],["Burundi","bi","257"],["Cambodia","kh","855"],["Cameroon","cm","237"],["Canada","ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde","cv","238"],["Caribbean Netherlands","bq","599","",1],["Central African Republic","cf","236"],["Chad","td","235"],["Chile","cl","56"],["China","cn","86","... .... ...."],["Colombia","co","57","... ... ...."],["Comoros","km","269"],["Congo","cd","243"],["Congo","cg","242"],["Costa Rica","cr","506","....-...."],["Côte d'Ivoire","ci","225",".. .. .. .. .."],["Croatia","hr","385"],["Cuba","cu","53"],["Curaçao","cw","599","",0],["Cyprus","cy","357",".. ......"],["Czech Republic","cz","420","... ... ..."],["Denmark","dk","45",".. .. .. .."],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic","do","1","",2],["Ecuador","ec","593"],["Egypt","eg","20"],["El Salvador","sv","503","....-...."],["Equatorial Guinea","gq","240"],["Eritrea","er","291"],["Estonia","ee","372",".... ......"],["Ethiopia","et","251"],["Fiji","fj","679"],["Finland","fi","358",".. ... .. .."],["France","fr","33",". .. .. .. .."],["French Guiana","gf","594"],["French Polynesia","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia","ge","995"],["Germany","de","49","... ........."],["Ghana","gh","233"],["Greece","gr","30"],["Grenada","gd","1473"],["Guadeloupe","gp","590","",0],["Guam","gu","1671"],["Guatemala","gt","502","....-...."],["Guinea","gn","224"],["Guinea-Bissau","gw","245"],["Guyana","gy","592"],["Haiti","ht","509","....-...."],["Honduras","hn","504"],["Hong Kong","hk","852",".... ...."],["Hungary","hu","36"],["Iceland","is","354","... ...."],["India","in","91",".....-....."],["Indonesia","id","62"],["Iran","ir","98","... ... ...."],["Iraq","iq","964"],["Ireland","ie","353",".. ......."],["Israel","il","972","... ... ...."],["Italy","it","39","... .......",0],["Jamaica","jm","1876"],["Japan","jp","81",".. .... ...."],["Jordan","jo","962"],["Kazakhstan","kz","7","... ...-..-..",0],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait","kw","965"],["Kyrgyzstan","kg","996","... ... ..."],["Laos","la","856"],["Latvia","lv","371",".. ... ..."],["Lebanon","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya","ly","218"],["Liechtenstein","li","423"],["Lithuania","lt","370"],["Luxembourg","lu","352"],["Macau","mo","853"],["Macedonia","mk","389"],["Madagascar","mg","261"],["Malawi","mw","265"],["Malaysia","my","60","..-....-...."],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania","mr","222"],["Mauritius","mu","230"],["Mexico","mx","52","... ... ....",0],["Micronesia","fm","691"],["Moldova","md","373","(..) ..-..-.."],["Monaco","mc","377"],["Mongolia","mn","976"],["Montenegro","me","382"],["Morocco","ma","212"],["Mozambique","mz","258"],["Myanmar","mm","95"],["Namibia","na","264"],["Nauru","nr","674"],["Nepal","np","977"],["Netherlands","nl","31",".. ........"],["New Caledonia","nc","687"],["New Zealand","nz","64","...-...-...."],["Nicaragua","ni","505"],["Niger","ne","227"],["Nigeria","ng","234"],["North Korea","kp","850"],["Norway","no","47","... .. ..."],["Oman","om","968"],["Pakistan","pk","92","...-......."],["Palau","pw","680"],["Palestine","ps","970"],["Panama","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru","pe","51"],["Philippines","ph","63",".... ......."],["Poland","pl","48","...-...-..."],["Portugal","pt","351"],["Puerto Rico","pr","1","",3,["787","939"]],["Qatar","qa","974"],["Réunion","re","262"],["Romania","ro","40"],["Russia","ru","7","(...) ...-..-..",1],["Rwanda","rw","250"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["São Tomé and Príncipe","st","239"],["Saudi Arabia","sa","966"],["Senegal","sn","221"],["Serbia","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65","....-...."],["Slovakia","sk","421"],["Slovenia","si","386"],["Solomon Islands","sb","677"],["Somalia","so","252"],["South Africa","za","27"],["South Korea","kr","82","... .... ...."],["South Sudan","ss","211"],["Spain","es","34","... ... ..."],["Sri Lanka","lk","94"],["Sudan","sd","249"],["Suriname","sr","597"],["Swaziland","sz","268"],["Sweden","se","46","... ... ..."],["Switzerland","ch","41",".. ... .. .."],["Syria","sy","963"],["Taiwan","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia","tn","216"],["Turkey","tr","90","... ... .. .."],["Turkmenistan","tm","993"],["Tuvalu","tv","688"],["Uganda","ug","256"],["Ukraine","ua","380","(..) ... .. .."],["United Arab Emirates","ae","971"],["United Kingdom","gb","44",".... ......"],["United States","us","1","(...) ...-....",0],["Uruguay","uy","598"],["Uzbekistan","uz","998",".. ... .. .."],["Vanuatu","vu","678"],["Vatican City","va","39",".. .... ....",1],["Venezuela","ve","58"],["Vietnam","vn","84"],["Yemen","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"]],se="react-international-phone-",U=(...t)=>t.filter(e=>!!e).join(" ").trim(),de=(...t)=>U(...t).split(" ").map(e=>`${se}${e}`).join(" "),E=({addPrefix:t,rawClassNames:e})=>U(de(...t),...e),ue=({value:t,mask:e,maskSymbol:n,offset:a=0,trimNonMaskCharsLeftover:r=!1})=>{if(t.length<a)return t;let i=t.slice(0,a),d=t.slice(a),s=i,o=0;for(let u of e.split("")){if(o>=d.length){if(!r&&u!==n){s+=u;continue}break}u===n?(s+=d[o],o+=1):s+=u}return s},T=t=>t?/^\d+$/.test(t):!1,K=t=>t.replace(/\D/g,""),ce=(t,e)=>{let n=t.style.display;n!=="block"&&(t.style.display="block");let a=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=r.top-a.top,d=a.bottom-r.bottom;i>=0&&d>=0||(Math.abs(i)<Math.abs(d)?t.scrollTop+=i:t.scrollTop-=d),t.style.display=n},fe=(t,e)=>{let n=e.disableDialCodeAndPrefix?!1:e.forceDialCode,a=e.disableDialCodeAndPrefix?!1:e.insertDialCodeOnEmpty,r=t,i=u=>e.trimNonDigitsEnd?u.trim():u;if(!r)return a&&!r.length||n?i(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`):i(r);if(r=K(r),r===e.dialCode&&!e.disableDialCodeAndPrefix)return i(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`);if(e.dialCode.startsWith(r)&&!e.disableDialCodeAndPrefix)return i(n?`${e.prefix}${e.dialCode}${e.charAfterDialCode}`:`${e.prefix}${r}`);if(!r.startsWith(e.dialCode)&&!e.disableDialCodeAndPrefix){if(n)return i(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`);if(r.length<e.dialCode.length)return i(`${e.prefix}${r}`)}let d=()=>{let u=e.dialCode.length,l=r.slice(0,u),h=r.slice(u);return{phoneLeftSide:l,phoneRightSide:h}},{phoneLeftSide:s,phoneRightSide:o}=d();return s=`${e.prefix}${s}${e.charAfterDialCode}`,o=ue({value:o,mask:e.mask,maskSymbol:e.maskChar,trimNonMaskCharsLeftover:e.trimNonDigitsEnd||e.disableDialCodeAndPrefix&&o.length===0}),e.disableDialCodeAndPrefix&&(s=""),i(`${s}${o}`)},pe=({phoneBeforeInput:t,phoneAfterInput:e,phoneAfterFormatted:n,cursorPositionAfterInput:a,leftOffset:r=0,deletion:i})=>{if(a<r)return r;if(!t)return n.length;let d=null;for(let l=a-1;l>=0;l-=1)if(T(e[l])){d=l;break}if(d===null){for(let l=0;l<e.length;l+=1)if(T(n[l]))return l;return e.length}let s=0;for(let l=0;l<d;l+=1)T(e[l])&&(s+=1);let o=0,u=0;for(let l=0;l<n.length&&(o+=1,T(n[l])&&(u+=1),!(u>=s+1));l+=1);if(i!=="backward")for(;!T(n[o])&&o<n.length;)o+=1;return o},W=({phone:t,prefix:e})=>t?`${e}${K(t)}`:"";function H({value:t,country:e,insertDialCodeOnEmpty:n,trimNonDigitsEnd:a,countries:r,prefix:i,charAfterDialCode:d,forceDialCode:s,disableDialCodeAndPrefix:o,defaultMask:u,countryGuessingEnabled:l,disableFormatting:h}){let c=t;o&&(c=c.startsWith(`${i}`)?c:`${i}${e.dialCode}${c}`);let m=l?De({phone:c,countries:r,currentCountryIso2:e==null?void 0:e.iso2}):void 0,w=(m==null?void 0:m.country)??e,p=fe(c,{prefix:i,mask:we({phone:c,country:w,defaultMask:u,disableFormatting:h}),maskChar:J,dialCode:w.dialCode,trimNonDigitsEnd:a,charAfterDialCode:d,forceDialCode:s,insertDialCodeOnEmpty:n,disableDialCodeAndPrefix:o}),b=l&&!(m!=null&&m.fullDialCodeMatch)?e:w;return{phone:W({phone:o?`${b.dialCode}${p}`:p,prefix:i}),inputValue:p,country:b}}var me=t=>{if((t==null?void 0:t.toLocaleLowerCase().includes("delete"))??!1)return t!=null&&t.toLocaleLowerCase().includes("forward")?"forward":"backward"},he=(t,{country:e,insertDialCodeOnEmpty:n,phoneBeforeInput:a,prefix:r,charAfterDialCode:i,forceDialCode:d,disableDialCodeAndPrefix:s,countryGuessingEnabled:o,defaultMask:u,disableFormatting:l,countries:h})=>{let c=t.nativeEvent,m=c.inputType,w=me(m),p=!!(m!=null&&m.startsWith("insertFrom")),b=m==="insertText",$=(c==null?void 0:c.data)||void 0,v=t.target.value,M=t.target.selectionStart??0;if(m!=null&&m.includes("history"))return{inputValue:a,phone:W({phone:a,prefix:r}),cursorPosition:a.length,country:e};if(b&&!T($)&&v!==r)return{inputValue:a,phone:W({phone:s?`${e.dialCode}${a}`:a,prefix:r}),cursorPosition:M-(($==null?void 0:$.length)??0),country:e};if(d&&!v.startsWith(`${r}${e.dialCode}`)&&!p){let y=v?a:`${r}${e.dialCode}${i}`;return{inputValue:y,phone:W({phone:y,prefix:r}),cursorPosition:r.length+e.dialCode.length+i.length,country:e}}let{phone:z,inputValue:A,country:f}=H({value:v,country:e,trimNonDigitsEnd:w==="backward",insertDialCodeOnEmpty:n,countryGuessingEnabled:o,countries:h,prefix:r,charAfterDialCode:i,forceDialCode:d,disableDialCodeAndPrefix:s,disableFormatting:l,defaultMask:u}),C=pe({cursorPositionAfterInput:M,phoneBeforeInput:a,phoneAfterInput:v,phoneAfterFormatted:A,leftOffset:d?r.length+e.dialCode.length+i.length:0,deletion:w});return{phone:z,inputValue:A,cursorPosition:C,country:f}},ye=(t,e)=>{let n=Object.keys(t),a=Object.keys(e);if(n.length!==a.length)return!1;for(let r of n)if(t[r]!==e[r])return!1;return!0},ge=()=>{let t=g.useRef(),e=g.useRef(Date.now());return{check:()=>{let n=Date.now(),a=t.current?n-e.current:void 0;return t.current=e.current,e.current=n,a}}},Ce={size:20,overrideLastItemDebounceMS:-1};function be(t,e){let{size:n,overrideLastItemDebounceMS:a,onChange:r}={...Ce,...e},[i,d]=g.useState(t),[s,o]=g.useState([i]),[u,l]=g.useState(0),h=ge();return[i,(c,m)=>{if(typeof c=="object"&&typeof i=="object"&&ye(c,i)||c===i)return;let w=a>0,p=h.check(),b=w&&p!==void 0?p>a:!0;if((m==null?void 0:m.overrideLastItem)!==void 0?m.overrideLastItem:!b)o($=>[...$.slice(0,u),c]);else{let $=s.length>=n;o(v=>[...v.slice($?1:0,u+1),c]),$||l(v=>v+1)}d(c),r==null||r(c)},()=>{if(u<=0)return{success:!1};let c=s[u-1];return d(c),l(m=>m-1),r==null||r(c),{success:!0,value:c}},()=>{if(u+1>=s.length)return{success:!1};let c=s[u+1];return d(c),l(m=>m+1),r==null||r(c),{success:!0,value:c}}]}var J=".",I={defaultCountry:"us",value:"",prefix:"+",defaultMask:"............",charAfterDialCode:" ",historySaveDebounceMS:200,disableCountryGuess:!1,disableDialCodePrefill:!1,forceDialCode:!1,disableDialCodeAndPrefix:!1,disableFormatting:!1,countries:F,preferredCountries:[]},ve=({defaultCountry:t=I.defaultCountry,value:e=I.value,countries:n=I.countries,prefix:a=I.prefix,defaultMask:r=I.defaultMask,charAfterDialCode:i=I.charAfterDialCode,historySaveDebounceMS:d=I.historySaveDebounceMS,disableCountryGuess:s=I.disableCountryGuess,disableDialCodePrefill:o=I.disableDialCodePrefill,forceDialCode:u=I.forceDialCode,disableDialCodeAndPrefix:l=I.disableDialCodeAndPrefix,disableFormatting:h=I.disableFormatting,onChange:c,inputRef:m})=>{let w={countries:n,prefix:a,charAfterDialCode:i,forceDialCode:l?!1:u,disableDialCodeAndPrefix:l,defaultMask:r,countryGuessingEnabled:!s,disableFormatting:h},p=g.useRef(null),b=m||p,$=x=>{Promise.resolve().then(()=>{var S;typeof window>"u"||b.current!==(document==null?void 0:document.activeElement)||((S=b.current)==null||S.setSelectionRange(x,x))})},[{phone:v,inputValue:M,country:z},A,f,C]=be(()=>{let x=R({value:t,field:"iso2",countries:n});x||console.error(`[react-international-phone]: can not find a country with "${t}" iso2 code`);let S=x||R({value:"us",field:"iso2",countries:n}),{phone:N,inputValue:B,country:_}=H({value:e,country:S,insertDialCodeOnEmpty:!o,...w});return $(B.length),{phone:N,inputValue:B,country:_.iso2}},{overrideLastItemDebounceMS:d,onChange:({inputValue:x,phone:S,country:N})=>{if(!c)return;let B=y(N);c({phone:S,inputValue:x,country:B})}}),y=g.useCallback(x=>R({value:x,field:"iso2",countries:n}),[n]),D=g.useMemo(()=>y(z),[z,y]);g.useEffect(()=>{let x=b.current;if(!x)return;let S=N=>{if(!N.key)return;let B=N.ctrlKey,_=N.shiftKey,Q=N.key.toLowerCase()==="z";!B||!Q||(_?C():f())};return x.addEventListener("keydown",S),()=>{x.removeEventListener("keydown",S)}},[b,f,C]);let P=x=>{x.preventDefault();let{phone:S,inputValue:N,country:B,cursorPosition:_}=he(x,{country:D,phoneBeforeInput:M,insertDialCodeOnEmpty:!1,...w});return A({inputValue:N,phone:S,country:B.iso2}),$(_),e},L=(x,S={focusOnInput:!1})=>{let N=R({value:x,field:"iso2",countries:n});if(!N){console.error(`[react-international-phone]: can not find a country with "${x}" iso2 code`);return}let B=l?"":`${a}${N.dialCode}${i}`;A({inputValue:B,phone:`${a}${N.dialCode}`,country:N.iso2}),S.focusOnInput&&Promise.resolve().then(()=>{var _;(_=b.current)==null||_.focus()})},[O,V]=g.useState(!1);return g.useEffect(()=>{if(!O){V(!0),e!==v&&(c==null||c({inputValue:M,phone:v,country:D}));return}if(e===v)return;let{phone:x,inputValue:S,country:N}=H({value:e,country:D,insertDialCodeOnEmpty:!o,...w});A({phone:x,inputValue:S,country:N.iso2})},[e]),{phone:v,inputValue:M,country:D,setCountry:L,handlePhoneValueChange:P,inputRef:b}},we=({phone:t,country:e,defaultMask:n="............",disableFormatting:a=!1})=>{let r=e.format,i=s=>a?s.replace(new RegExp(`[^${J}]`,"g"),""):s;if(!r)return i(n);if(typeof r=="string")return i(r);if(!r.default)return console.error(`[react-international-phone]: default mask for ${e.iso2} is not provided`),i(n);let d=Object.keys(r).find(s=>{if(s==="default")return!1;if(!(s.charAt(0)==="/"&&s.charAt(s.length-1)==="/"))return console.error(`[react-international-phone]: format regex "${s}" for ${e.iso2} is not valid`),!1;let o=new RegExp(s.substring(1,s.length-1)),u=t.replace(e.dialCode,"");return o.test(K(u))});return i(d?r[d]:r.default)},j=t=>{let[e,n,a,r,i,d]=t;return{name:e,iso2:n,dialCode:a,format:r,priority:i,areaCodes:d}},xe=t=>`Field "${t}" is not supported`,R=({field:t,value:e,countries:n=F})=>{if(["priority"].includes(t))throw new Error(xe(t));let a=n.find(r=>{let i=j(r);return e===i[t]});if(a)return j(a)},De=({phone:t,countries:e=F,currentCountryIso2:n})=>{var s;let a={country:void 0,fullDialCodeMatch:!1};if(!t)return a;let r=K(t);if(!r)return a;let i=a,d=({country:o,fullDialCodeMatch:u})=>{var c,m;let l=o.dialCode===((c=i.country)==null?void 0:c.dialCode),h=(o.priority??0)<(((m=i.country)==null?void 0:m.priority)??0);(!l||h)&&(i={country:o,fullDialCodeMatch:u})};for(let o of e){let u=j(o),{dialCode:l,areaCodes:h}=u;if(r.startsWith(l)){let c=i.country?Number(l)>=Number(i.country.dialCode):!0;if(h){let m=r.substring(l.length);for(let w of h)if(m.startsWith(w))return{country:u,fullDialCodeMatch:!0}}(c||l===r||!i.fullDialCodeMatch)&&d({country:u,fullDialCodeMatch:!0})}i.fullDialCodeMatch||r.length<l.length&&l.startsWith(r)&&(!i.country||Number(l)<=Number(i.country.dialCode))&&d({country:u,fullDialCodeMatch:!1})}if(n){let o=R({value:n,field:"iso2",countries:e});if(!o)return i;let u=o?(l=>{if(!(l!=null&&l.areaCodes))return!1;let h=r.substring(l.dialCode.length);return l.areaCodes.some(c=>c.startsWith(h))})(o):!1;i&&((s=i.country)==null?void 0:s.dialCode)===o.dialCode&&i.country!==o&&i.fullDialCodeMatch&&(!o.areaCodes||u)&&(i={country:o,fullDialCodeMatch:!0})}return i},$e=(t,e)=>{let n=parseInt(t,16);return Number(n+e).toString(16)},Se="abcdefghijklmnopqrstuvwxyz",ke="1f1e6",q=Se.split("").reduce((t,e,n)=>({...t,[e]:$e(ke,n)}),{}),Ne=t=>[q[t[0]],q[t[1]]].join("-"),Z=({iso2:t,size:e,src:n,protocol:a="https",disableLazyLoading:r,className:i,style:d,...s})=>{if(!t)return k.createElement("img",{className:E({addPrefix:["flag-emoji"],rawClassNames:[i]}),width:e,height:e,...s});let o=()=>{if(n)return n;let u=Ne(t);return`${a}://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/${u}.svg`};return k.createElement("img",{className:E({addPrefix:["flag-emoji"],rawClassNames:[i]}),src:o(),width:e,height:e,draggable:!1,"data-country":t,loading:r?void 0:"lazy",style:{width:e,height:e,...d},alt:"",...s})},Pe=1e3,Ee=({show:t,dialCodePrefix:e="+",selectedCountry:n,countries:a=F,preferredCountries:r=[],flags:i,onSelect:d,onClose:s,...o})=>{let u=g.useRef(null),l=g.useRef(),h=g.useMemo(()=>{if(!r||!r.length)return a;let f=[],C=[...a];for(let y of r){let D=C.findIndex(P=>j(P).iso2===y);if(D!==-1){let P=C.splice(D,1)[0];f.push(P)}}return f.concat(C)},[a,r]),c=g.useRef({updatedAt:void 0,value:""}),m=f=>{let C=c.current.updatedAt&&new Date().getTime()-c.current.updatedAt.getTime()>Pe;c.current={value:C?f:`${c.current.value}${f}`,updatedAt:new Date};let y=h.findIndex(D=>j(D).name.toLowerCase().startsWith(c.current.value));y!==-1&&b(y)},w=g.useCallback(f=>h.findIndex(C=>j(C).iso2===f),[h]),[p,b]=g.useState(w(n)),$=()=>{l.current!==n&&b(w(n))},v=g.useCallback(f=>{b(w(f.iso2)),d==null||d(f)},[d,w]),M=f=>{let C=h.length-1,y=D=>f==="prev"?D-1:f==="next"?D+1:f==="last"?C:0;b(D=>{let P=y(D);return P<0?0:P>C?C:P})},z=f=>{if(f.stopPropagation(),f.key==="Enter"){f.preventDefault();let C=j(h[p]);v(C);return}if(f.key==="Escape"){s==null||s();return}if(f.key==="ArrowUp"){f.preventDefault(),M("prev");return}if(f.key==="ArrowDown"){f.preventDefault(),M("next");return}if(f.key==="PageUp"){f.preventDefault(),M("first");return}if(f.key==="PageDown"){f.preventDefault(),M("last");return}f.key===" "&&f.preventDefault(),f.key.length===1&&!f.altKey&&!f.ctrlKey&&!f.metaKey&&m(f.key.toLocaleLowerCase())},A=g.useCallback(()=>{if(!u.current||p===void 0)return;let f=j(h[p]).iso2;if(f===l.current)return;let C=u.current.querySelector(`[data-country="${f}"]`);C&&(ce(u.current,C),l.current=f)},[p,h]);return g.useEffect(()=>{A()},[p,A]),g.useEffect(()=>{u.current&&(t?u.current.focus():$())},[t]),g.useEffect(()=>{$()},[n]),k.createElement("ul",{ref:u,role:"listbox",className:E({addPrefix:["country-selector-dropdown"],rawClassNames:[o.className]}),style:{display:t?"block":"none",...o.style},onKeyDown:z,onBlur:s,tabIndex:-1,"aria-activedescendant":`react-international-phone__${j(h[p]).iso2}-option`},h.map((f,C)=>{let y=j(f),D=y.iso2===n,P=C===p,L=r.includes(y.iso2),O=C===r.length-1,V=i==null?void 0:i.find(x=>x.iso2===y.iso2);return k.createElement(k.Fragment,{key:y.iso2},k.createElement("li",{"data-country":y.iso2,role:"option","aria-selected":D,"aria-label":`${y.name} ${e}${y.dialCode}`,id:`react-international-phone__${y.iso2}-option`,className:E({addPrefix:["country-selector-dropdown__list-item",L&&"country-selector-dropdown__list-item--preferred",D&&"country-selector-dropdown__list-item--selected",P&&"country-selector-dropdown__list-item--focused"],rawClassNames:[o.listItemClassName]}),onClick:()=>v(y),style:o.listItemStyle,title:y.name},k.createElement(Z,{iso2:y.iso2,src:V==null?void 0:V.src,className:E({addPrefix:["country-selector-dropdown__list-item-flag-emoji"],rawClassNames:[o.listItemFlagClassName]}),style:o.listItemFlagStyle}),k.createElement("span",{className:E({addPrefix:["country-selector-dropdown__list-item-country-name"],rawClassNames:[o.listItemCountryNameClassName]}),style:o.listItemCountryNameStyle},y.name),k.createElement("span",{className:E({addPrefix:["country-selector-dropdown__list-item-dial-code"],rawClassNames:[o.listItemDialCodeClassName]}),style:o.listItemDialCodeStyle},e,y.dialCode)),O?k.createElement("hr",{className:E({addPrefix:["country-selector-dropdown__preferred-list-divider"],rawClassNames:[o.preferredListDividerClassName]}),style:o.preferredListDividerStyle}):null)}))},Me=({selectedCountry:t,onSelect:e,disabled:n,hideDropdown:a,countries:r=F,preferredCountries:i=[],flags:d,renderButtonWrapper:s,...o})=>{let[u,l]=g.useState(!1),h=g.useMemo(()=>{if(t)return R({value:t,field:"iso2",countries:r})},[r,t]),c=g.useRef(null),m=p=>{p.key&&["ArrowUp","ArrowDown"].includes(p.key)&&(p.preventDefault(),l(!0))},w=()=>{var $;let p={title:h==null?void 0:h.name,onClick:()=>l(v=>!v),onMouseDown:v=>v.preventDefault(),onKeyDown:m,disabled:a||n,role:"combobox","aria-label":"Country selector","aria-haspopup":"listbox","aria-expanded":u},b=k.createElement("div",{className:E({addPrefix:["country-selector-button__button-content"],rawClassNames:[o.buttonContentWrapperClassName]}),style:o.buttonContentWrapperStyle},k.createElement(Z,{iso2:t,src:($=d==null?void 0:d.find(v=>v.iso2===t))==null?void 0:$.src,className:E({addPrefix:["country-selector-button__flag-emoji",n&&"country-selector-button__flag-emoji--disabled"],rawClassNames:[o.flagClassName]}),style:{visibility:t?"visible":"hidden",...o.flagStyle}}),!a&&k.createElement("div",{className:E({addPrefix:["country-selector-button__dropdown-arrow",n&&"country-selector-button__dropdown-arrow--disabled",u&&"country-selector-button__dropdown-arrow--active"],rawClassNames:[o.dropdownArrowClassName]}),style:o.dropdownArrowStyle}));return s?s({children:b,rootProps:p}):k.createElement("button",{...p,type:"button",className:E({addPrefix:["country-selector-button",u&&"country-selector-button--active",n&&"country-selector-button--disabled",a&&"country-selector-button--hide-dropdown"],rawClassNames:[o.buttonClassName]}),"data-country":t,style:o.buttonStyle},b)};return k.createElement("div",{className:E({addPrefix:["country-selector"],rawClassNames:[o.className]}),style:o.style,ref:c},w(),k.createElement(Ee,{show:u,countries:r,preferredCountries:i,flags:d,onSelect:p=>{l(!1),e==null||e(p)},selectedCountry:t,onClose:()=>{l(!1)},...o.dropdownStyleProps}))},Ae=({dialCode:t,prefix:e,disabled:n,style:a,className:r})=>k.createElement("div",{className:E({addPrefix:["dial-code-preview",n&&"dial-code-preview--disabled"],rawClassNames:[r]}),style:a},`${e}${t}`),Le=g.forwardRef(({value:t,onChange:e,countries:n=F,preferredCountries:a=[],hideDropdown:r,showDisabledDialCodeAndPrefix:i,disableFocusAfterCountrySelect:d,flags:s,style:o,className:u,inputStyle:l,inputClassName:h,countrySelectorStyleProps:c,dialCodePreviewStyleProps:m,inputProps:w,placeholder:p,disabled:b,name:$,onFocus:v,onBlur:M,required:z,autoFocus:A,...f},C)=>{let{phone:y,inputValue:D,inputRef:P,country:L,setCountry:O,handlePhoneValueChange:V}=ve({value:t,countries:n,...f,onChange:S=>{e==null||e(S.phone,{country:S.country,inputValue:S.inputValue})}}),x=f.disableDialCodeAndPrefix&&i&&(L==null?void 0:L.dialCode);return g.useImperativeHandle(C,()=>P.current?Object.assign(P.current,{setCountry:O,state:{phone:y,inputValue:D,country:L}}):null,[P,O,y,D,L]),k.createElement("div",{ref:C,className:E({addPrefix:["input-container"],rawClassNames:[u]}),style:o},k.createElement(Me,{onSelect:S=>O(S.iso2,{focusOnInput:!d}),flags:s,selectedCountry:L.iso2,countries:n,preferredCountries:a,disabled:b,hideDropdown:r,...c}),x&&k.createElement(Ae,{dialCode:L.dialCode,prefix:f.prefix??"+",disabled:b,...m}),k.createElement("input",{onChange:V,value:D,type:"tel",ref:P,className:E({addPrefix:["input",b&&"input--disabled"],rawClassNames:[h]}),placeholder:p,disabled:b,style:l,name:$,onFocus:v,onBlur:M,autoFocus:A,required:z,...w}))});export{ze as D,Le as G};
